// ─────────────────────────────────────────────
// 전역 스타일 시스템
// ─────────────────────────────────────────────
//
// 반응형 Breakpoint 정의 (Quasar 기준 + 미디어쿼리 매핑)
//  모바일  : max-width  599px  (Quasar lt-sm)
//  태블릿  : 600px ~ 1023px   (Quasar sm, lt-md)
//  데스크톱: 1024px~          (Quasar md+)
// ─────────────────────────────────────────────

// ── 미디어 쿼리 변수 ──────────────────────────
$mq-mobile  : 'max-width: 599px';
$mq-tablet  : 'min-width: 600px) and (max-width: 1023px';
$mq-desktop : 'min-width: 1024px';

// ── 베이스 리셋 & 기본 설정 ───────────────────
*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  font-size: 16px;
}

body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

// ── 앵커 스크롤 오프셋 (고정 헤더 64px) ───────
[id] {
  scroll-margin-top: 64px;
}

// ─────────────────────────────────────────────
// 타이포그래피 시스템
// ─────────────────────────────────────────────

// 그라디언트 텍스트 유틸리티
.text-gradient {
  background: var(--gradient-text);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

// 섹션 타이틀
.section-title {
  font-size: clamp(1.6rem, 3vw, 2.2rem);
  font-weight: 800;
  line-height: 1.2;
  letter-spacing: -0.02em;
  margin-bottom: 0;
  color: var(--text-primary);

  &::after {
    content: '';
    display: block;
    width: 48px;
    height: 4px;
    background: var(--gradient-primary);
    border-radius: 2px;
    margin: 12px auto 0;
  }
}

.section-subtitle {
  font-size: 1rem;
  color: var(--text-secondary);
  margin-top: 12px;
  margin-bottom: 48px;
}

// ─────────────────────────────────────────────
// 섹션 레이아웃 시스템
// ─────────────────────────────────────────────

.section {
  padding: var(--section-py-desktop) 0;

  @media ($mq-tablet) {
    padding: var(--section-py-tablet) 0;
  }
  @media ($mq-mobile) {
    padding: var(--section-py-mobile) 0;
  }
}

// 짝수 섹션 배경 (교번 배경)
.section--alt {
  background-color: var(--bg-section-alt);
}

// 섹션 헤더 (타이틀 + 서브타이틀)
.section-header {
  text-align: center;
  margin-bottom: 56px;

  @media ($mq-mobile) {
    margin-bottom: 36px;
  }
}

// 컨테이너
.container {
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: 24px;
  padding-right: 24px;

  @media ($mq-mobile) {
    padding-left: 16px;
    padding-right: 16px;
  }
}

// ─────────────────────────────────────────────
// 카드 스타일 시스템
// ─────────────────────────────────────────────

.card-base {
  background: var(--bg-card);
  border: 1px solid var(--border-color);
  border-radius: 16px;
  box-shadow: var(--shadow-card);
  transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease;

  &:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-card-hover);
    border-color: rgba(79, 70, 229, 0.3);
  }
}

// ─────────────────────────────────────────────
// 글래스모피즘 유틸리티
// ─────────────────────────────────────────────

.glass {
  background: var(--glass-bg);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border-bottom: 1px solid var(--glass-border);
}

// ─────────────────────────────────────────────
// 스크롤 진입 애니메이션
// ─────────────────────────────────────────────

.fade-up {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.6s ease, transform 0.6s ease;

  &.is-visible {
    opacity: 1;
    transform: translateY(0);
  }
}

.fade-up-delay-1 { transition-delay: 0.1s; }
.fade-up-delay-2 { transition-delay: 0.2s; }
.fade-up-delay-3 { transition-delay: 0.3s; }
.fade-up-delay-4 { transition-delay: 0.4s; }

// ─────────────────────────────────────────────
// 배지 & 태그 스타일
// ─────────────────────────────────────────────

.tech-chip {
  display: inline-flex;
  align-items: center;
  padding: 4px 10px;
  border-radius: 6px;
  font-size: 0.75rem;
  font-weight: 500;
  border: 1px solid rgba(79, 70, 229, 0.25);
  background: rgba(79, 70, 229, 0.08);
  color: $primary;
  transition: background 0.2s ease, border-color 0.2s ease;

  &:hover {
    background: rgba(79, 70, 229, 0.15);
  }

  .body--dark & {
    border-color: rgba(129, 140, 248, 0.3);
    background: rgba(129, 140, 248, 0.1);
    color: #818CF8;
  }
}

// ─────────────────────────────────────────────
// 버튼 커스텀 스타일
// ─────────────────────────────────────────────

.btn-gradient {
  background: var(--gradient-primary) !important;
  color: white !important;
  border: none !important;
  box-shadow: 0 4px 15px rgba(79, 70, 229, 0.4) !important;
  transition: transform 0.2s ease, box-shadow 0.2s ease !important;

  &:hover {
    transform: translateY(-2px) !important;
    box-shadow: 0 8px 25px rgba(79, 70, 229, 0.5) !important;
  }
}

// ─────────────────────────────────────────────
// 스크롤 진행률 바
// ─────────────────────────────────────────────

.scroll-progress {
  position: fixed;
  top: 0;
  left: 0;
  height: 3px;
  background: var(--gradient-primary);
  z-index: 9999;
  transition: width 0.1s linear;
}

// ─────────────────────────────────────────────
// 섹션 구분 장식
// ─────────────────────────────────────────────

.section-divider {
  width: 100%;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--border-color), transparent);
  margin: 0;
}

// ─────────────────────────────────────────────
// 반응형 유틸리티 클래스
// ─────────────────────────────────────────────

// 모바일에서 텍스트 중앙 정렬
@media ($mq-mobile) {
  .mobile-center {
    text-align: center !important;
  }
  .mobile-full {
    width: 100% !important;
  }
}

// ─────────────────────────────────────────────
// Quasar 컴포넌트 오버라이드
// ─────────────────────────────────────────────

// Q-Card 기본 오버라이드
.q-card {
  border-radius: 16px !important;
  box-shadow: var(--shadow-card) !important;
  border: 1px solid var(--border-color);
  background: var(--bg-card) !important;
  transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease;

  &:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-card-hover) !important;
    border-color: rgba(79, 70, 229, 0.3);
  }
}

// Q-Badge 오버라이드
.q-badge {
  border-radius: 6px !important;
  font-size: 0.7rem !important;
  font-weight: 600 !important;
  letter-spacing: 0.02em;
  padding: 3px 8px !important;
}

// Q-Timeline 오버라이드
.q-timeline__dot {
  width: 14px !important;
  height: 14px !important;
}

// Q-Chip 오버라이드
.q-chip {
  border-radius: 8px !important;
}

// ─────────────────────────────────────────────
// 반응형 그리드 유틸리티
// ─────────────────────────────────────────────

// 데스크톱 기준 최대 너비 컨테이너
.max-w-sm  { max-width: var(--container-sm) !important; }
.max-w-md  { max-width: var(--container-md) !important; }
.max-w-lg  { max-width: var(--container-lg) !important; }
.max-w-xl  { max-width: var(--container-xl) !important; }
